{"version":3,"names":["getAssetPath","path","assetBasePath","_a","document","head","querySelector","dataset","eclAssetPath","window","__ECL_ASSET_PATH__","Error","assetPath","startsWith","substring","endsWith"],"sources":["./src/utils/assetPath.ts"],"sourcesContent":["import { Build } from '@stencil/core'\n\n/**\n * Reads components asset path config from meta tag or global variable.\n * This is a workaround until the following issues are resolved:\n * https://github.com/ionic-team/stencil/issues/3470\n * https://github.com/ionic-team/stencil-ds-output-targets/issues/186\n */\nconst getAssetPath = (path: string) => {\n  const assetBasePath = Build.isTesting\n    ? '/'\n    : document.head.querySelector<HTMLMetaElement>('meta[data-ecl-asset-path]')\n        ?.dataset.eclAssetPath || window.__ECL_ASSET_PATH__\n  if (!assetBasePath) {\n    throw new Error(\n      `Asset path not set yet. \n       Please define a <meta> data-ecl-asset-path in your head or an __ECL_ASSET_PATH__ prop in the window object,\n       the path to the assets will start from the value you set. EX: <meta data-ecl-asset-path=\"/\" />`\n    )\n  }\n  let assetPath = path\n\n  if (path.startsWith('./')) {\n    assetPath = path.substring(2)\n  }\n\n  if (!assetBasePath.endsWith('/')) {\n    assetPath = '/' + assetPath\n  }\n\n  return assetBasePath + assetPath\n}\n\nexport default getAssetPath;"],"mappings":"MAQMA,EAAgBC,I,MACpB,MAAMC,IAEFC,EAAAC,SAASC,KAAKC,cAA+B,gCAA4B,MAAAH,SAAA,SAAAA,EACrEI,QAAQC,eAAgBC,OAAOC,mBACvC,IAAKR,EAAe,CAClB,MAAM,IAAIS,MACR,sP,CAKJ,IAAIC,EAAYX,EAEhB,GAAIA,EAAKY,WAAW,MAAO,CACzBD,EAAYX,EAAKa,UAAU,E,CAG7B,IAAKZ,EAAca,SAAS,KAAM,CAChCH,EAAY,IAAMA,C,CAGpB,OAAOV,EAAgBU,CAAS,S"}